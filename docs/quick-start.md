# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å API-–∫–ª—é—á–æ–º

## –ß—Ç–æ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ

‚úÖ **ApiKeyMiddleware** - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ `X-API-KEY`  
‚úÖ **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è** - middleware –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ `bootstrap/app.php`  
‚úÖ **–ú–∞—Ä—à—Ä—É—Ç—ã** - –≤—Å–µ API –º–∞—Ä—à—Ä—É—Ç—ã –∑–∞—â–∏—â–µ–Ω—ã middleware  
‚úÖ **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - API-–∫–ª—é—á–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ `config/app.php`  
‚úÖ **Postman** - –∫–æ–ª–ª–µ–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º API-–∫–ª—é—á–æ–º  

## –í–∞–ª–∏–¥–Ω—ã–µ API-–∫–ª—é—á–∏

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–∏–Ω –∏–∑ —ç—Ç–∏—Ö –∫–ª—é—á–µ–π:

- `test-api-key-123`
- `demo-api-key-456` 
- `production-api-key-789`

## –ë—ã—Å—Ç—Ä–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. cURL

```bash
# –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—Ä–æ—Å
curl -H "X-API-KEY: test-api-key-123" \
     http://localhost:8000/api/organizations/1

# –ó–∞–ø—Ä–æ—Å –±–µ–∑ –∫–ª—é—á–∞ (–æ—à–∏–±–∫–∞ 401)
curl http://localhost:8000/api/organizations/1
```

### 2. Postman

1. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ `postman_collection.json`
2. API-–∫–ª—é—á —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
3. –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–∞—é—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ `X-API-KEY`

### 3. Swagger (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∞–∫–µ—Ç: `composer require darkaonline/l5-swagger`
2. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ `docs/swagger-config.md`
3. –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:8000/api/documentation`
4. –ù–∞–∂–º–∏—Ç–µ "Authorize" –∏ –≤–≤–µ–¥–∏—Ç–µ API-–∫–ª—é—á

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–æ–≤

### –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—Ä–æ—Å (200 OK)
```json
{
    "id": 1,
    "name": "–û–û–û –†–æ–≥–∞ –∏ –ö–æ–ø—ã—Ç–∞",
    "address": "—É–ª. –ü—É—à–∫–∏–Ω–∞, –¥. 10"
}
```

### –û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (401 Unauthorized)
```json
{
    "error": "API key is required",
    "message": "X-API-KEY header is missing"
}
```

## –î–æ—Å—Ç—É–ø–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

–í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Ç—Ä–µ–±—É—é—Ç API-–∫–ª—é—á:

- `GET /api/organizations/{id}` - –ø–æ–ª—É—á–∏—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é –ø–æ ID
- `GET /api/organizations/search?name={name}` - –ø–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
- `GET /api/organizations/radius?lat={lat}&lng={lng}&radius={radius}` - –ø–æ–∏—Å–∫ –ø–æ —Ä–∞–¥–∏—É—Å—É
- `GET /api/organizations/building/{buildingId}` - –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –≤ –∑–¥–∞–Ω–∏–∏
- `GET /api/organizations/activity/{activityId}` - –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- `GET /api/buildings` - —Å–ø–∏—Å–æ–∫ –∑–¥–∞–Ω–∏–π

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

### 1. –î–æ–±–∞–≤—å—Ç–µ –∫–ª—é—á–∏ –≤ .env

```env
API_KEYS=your-production-key-1,your-production-key-2
```

### 2. –û–±–Ω–æ–≤–∏—Ç–µ config/app.php

```php
'api_keys' => explode(',', env('API_KEYS', 'test-api-key-123,demo-api-key-456')),
```

### 3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS

–í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS –¥–ª—è –∑–∞—â–∏—Ç—ã API-–∫–ª—é—á–µ–π.

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- üìñ [–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API-–∫–ª—é—á–∞](api-key-middleware.md)
- üìñ [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Swagger](swagger-config.md)
- üìñ [Postman –∫–æ–ª–ª–µ–∫—Ü–∏—è](postman_collection.json) 